extends ../blocks/layout
block content
  - var {announcerSettings, autoModSettings, chatBotSettings, botLogSettings, modLogSettings} = settings

  .container
    include ../blocks/guild-nav
    block navtab
      - var activeTab = 'manage'  
    .jumbotron.text-center
      h3.display-4 #{guild.name} Settings
      p.lead
      | This part of the dashboard is not yet completed and may not be functional. 
      br
      | You&apos;ll have to use the commands in the meantime to change Cora's settings.
      br
      | Sorry about that. - Nova Lynxie
      .settings_card_base
        h3 Bot Control Panel
        .settings_card_modules.settings_card_wrapper
          h4 All Module Status
          .settings_card_modules
            h5 Main Modules
            table.settings_table_main(border="1")
              tr
                th Module Name
                th Enabled?
              tr
                td AutoNotify
                if (!announcerSettings)
                  td Unknown
                if (announcerSettings.enableBotLogger)
                  td Yes
                if (!announcerSettings.enableBotLogger)
                  td No
              tr
                td ChatBot
                if (!chatBotSettings)
                  td Unknown
                if (chatBotSettings.enableAutoChat)
                  td Yes
                if (!chatBotSettings.enableAutoChat)
                  td No
              tr
                td ModBot
                if (!autoModSettings)
                  td Unknown
                if (autoModSettings.enableAutoMod)
                  td Yes
                if (!autoModSettings.enableAutoMod)
                  td No
          .settings_card_modules
            h5 Logging Modules
            table.settings_table_main(border="1")
              tr
                th Module Name
                th Enabled?
              tr
                td Bot Logger
                if (!botLogSettings)
                  td Unknown
                if (botLogSettings.enableBotLogger)
                  td Yes
                if (!modLogSettings.enableBotLogger)
                  td No
              tr
                td Mod Logger
                if (!modLogSettings)
                  td Unknown
                if (modLogSettings.enableModLogger)
                  td Yes
                if (!modLogSettings.enableModLogger)
                  td No
        .settings_card_modules.settings_card_wrapper
          h4 Module Settings
          .settings_card_modules
            h5 Bot Notifications
            p
            | Event Settings
            br
            | Join: #{(announcerSettings.events.join)?'Enabled':'Disabled'}
            br
            | Leave: #{(announcerSettings.events.leave)?'Enabled':'Disabled'}
            br
            | Kick: #{(announcerSettings.events.kick)?'Enabled':'Disabled'}
            br
            | Ban: #{(announcerSettings.events.ban)?'Enabled':'Disabled'}
            br
            table.settings_table_main(border="1")
              tr
                th Event Type
                th Message
              tr
                td
                  | Join
                  br
                  | Leave
                  br
                  | Kick
                  br
                  | Ban
                td
                  | #{announcerSettings.eventMessages.userJoin}
                  br
                  | #{announcerSettings.eventMessages.userLeave}
                  br
                  | #{announcerSettings.eventMessages.userKick}
                  br
                  | #{announcerSettings.eventMessages.userBan}
                  br
          .settings_card_modules
            h5 Smart Chat Bot
            table.settings_table_main(border="1")
              tr
                th Chat Channels
              tr
                td #{(chatBotSettings.chatChannels.length >=1)? chatBotSettings.chatChannels.join(', ') : 'No Channels Set'}
          .settings_card_modules
            h5 Auto Moderation
            table.settings_table_main(border="1")
              tr
                th Setting
                th Value
              tr
                td Channels List
                td #{(autoModSettings.channelsList.length >=1)? autoModSettings.channelsList.join(', ') : 'No Channels Set'}
              tr
                td URL Blacklist
                td #{(autoModSettings.urlBlacklist.length >=1)? autoModSettings.urlBlacklist.join(', ') : 'No Channels Set'}
          
        .settings_card_modules
          h4 Danger Zone
          .settings_card_modules.danger_block
            h5 Reset Settings
            a.btn.btn-block.btn-outline-danger(data-bs-toggle='modal' data-bs-target='#settingsResetModal' role='button') RESET DEFAULTS
            br
            h5 Leave Guild
            a.btn.btn-block.btn-outline-danger(data-bs-toggle='modal' data-bs-target='#serverLeaveModal' role='button') LEAVE GUILD
        include ../blocks/guild-modals