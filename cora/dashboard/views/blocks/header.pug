//meta(http-equiv="Content-Security-Policy" content="script-src-elem https://code.jquery.com https://cdnjs.cloudflare.com https://stackpath.bootstrapcdn.com https://cdn.datatables.net;")

// Bootstrap CSS
link(rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T' crossorigin='anonymous')
link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css')
// Local CSS
link(rel='stylesheet' href='/public/stylesheets/custom.css')
link(rel='stylesheet' href='/public/stylesheets/darkly.css')
link(rel='stylesheet' href='/public/stylesheets/dashboard.css')
// jQuery first, then Popper.js, then Bootstrap JS
script(src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous", defer)
script(src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js', integrity='sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN', crossorigin='anonymous', defer)
script(src='https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js', integrity='sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV', crossorigin='anonymous', defer)
script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js' integrity='sha256-zG8v+NWiZxmjNi+CvUYnZwKtHzFtdO8cAKUIdB8+U9I=' crossorigin='anonymous')

// Disabled datatables since this appears to not work correctly. Commented out till a fix is possible.
//script(src="https://cdn.datatables.net/v/bs4/dt-1.10.24/cr-1.4.1/r-2.2.0/datatables.js")
//script(src='https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js')
//script(src='https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.js')

// Header
head
  title #{bot.user.username} Dashboard
// Navigation Bar
- var avatarURL = bot.user.avatarURL()
a(name='top')
nav.navbar.navbar-expand-lg.navbar-dark.bg-primary
  .container
    a.navbar-brand(href='/')
      img.d-inline-block.rounded-circle(src=avatarURL width='30' height='30' alt=bot.user.username)
      span.align-middle #{bot.user.username}
    button.navbar-toggler.navbar-toggler-right(type='button' data-toggle='collapse' data-target='#navbar01' aria-controls='navbar01' aria-expanded='false' aria-label='Toggle navigation')
      span.navbar-toggler-icon
    #navbarColor01.collapse.navbar-collapse
      ul.navbar-nav.mr-auto
        li.nav-item
          a.nav-link(href='/') Home
        li.nav-item
          a.nav-link(href='/stats') Stats 
      ul.navbar-nav
        unless (typeof(user) !== 'undefined')
          li.nav-item.dropdown
            a#userDropdown.nav-link.dropdown-toggle(href='#' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
            img.d-inline-block.align-middle.rounded-circle(src='#' width='25' height='25' alt='')
            .dropdown-menu.dropdown-menu-right(aria-labelledby='userDropdown')
            h6.dropdown-header
              i.fa.fa-user(aria-hidden='true')
            a.dropdown-item(href='/dashboard')
            i.fa.fa-cogs(aria-hidden='true')
            |  Dashboard
        else
          li.nav-item
            a.nav-link(href='/login')
              i.fa.fa-key(aria-hidden='true')
              |  Login